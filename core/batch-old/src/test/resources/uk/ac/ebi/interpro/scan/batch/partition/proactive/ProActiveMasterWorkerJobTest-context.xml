<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:batch="http://www.springframework.org/schema/batch"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
       	http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
        http://www.springframework.org/schema/batch
		http://www.springframework.org/schema/batch/spring-batch-2.0.xsd">
    
    <import resource="application-context.xml"/>
    <import resource="partition-context.xml"/>
    <import resource="step-context.xml"/>
    <import resource="job-parameters.xml"/>

    <batch:job id="masterWorkerJob">
         <batch:step id="partitionStep" parent="partitionStep:master" />
     </batch:job>

    <bean id="partitionHandler"
          class="uk.ac.ebi.interpro.scan.batch.partition.proactive.ProActiveMasterWorkerPartitionHandler">
        <property name="applicationDescriptor">
            <bean class="org.springframework.core.io.ClassPathResource">
                <constructor-arg value="uk/ac/ebi/interpro/scan/batch/partition/proactive/application-descriptor.xml"/>
            </bean>
        </property>
        <property name="remoteLaunchContext"
                  value="uk/ac/ebi/interpro/scan/batch/partition/proactive/ProActiveMasterWorkerJobTest-remote-context.xml"/>
        <property name="persistRemoteStepExecutions" value="true"/>
        <property name="jobRepository"               ref="jobRepository"/>
        <property name="step"                        ref="tigrfamStep" />
    </bean>

</beans>    
